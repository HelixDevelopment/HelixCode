# HelixCode E2E Testing Framework - Environment Configuration
# Copy this file to .env and adjust values as needed

# ===========================================
# Test Orchestrator Configuration
# ===========================================

# Number of concurrent tests to run
E2E_CONCURRENT_TESTS=3

# Default test timeout (e.g., 300s, 5m, 1h)
E2E_TIMEOUT=300s

# Retry delay between test retries (e.g., 1s, 500ms)
E2E_RETRY_DELAY=1s

# Test output directory
E2E_OUTPUT_DIR=./test-results

# ===========================================
# Mock LLM Provider Configuration
# ===========================================

# Port for mock LLM provider
MOCK_LLM_PORT=8090

# Response delay in milliseconds (simulates API latency)
MOCK_LLM_DELAY_MS=100

# Enable request logging
MOCK_LLM_LOGGING=true

# Path to fixtures file (relative to mock-llm-provider directory)
MOCK_LLM_FIXTURES=./responses/fixtures.json

# Default model name
MOCK_LLM_DEFAULT_MODEL=mock-gpt-4

# ===========================================
# Mock Slack Service Configuration
# ===========================================

# Port for mock Slack service
MOCK_SLACK_PORT=8091

# Response delay in milliseconds
MOCK_SLACK_DELAY_MS=50

# Enable request logging
MOCK_SLACK_LOGGING=true

# Maximum number of messages/webhooks to store in memory
MOCK_SLACK_STORAGE_CAPACITY=1000

# Webhook secret (for future validation)
MOCK_SLACK_WEBHOOK_SECRET=test-webhook-secret

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================

# PostgreSQL connection settings
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=helixcode_test
POSTGRES_USER=helixcode
POSTGRES_PASSWORD=helixcode_test_password

# Connection pool settings
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_MAX_IDLE_CONNECTIONS=5

# ===========================================
# Redis Configuration
# ===========================================

# Redis connection settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=helixcode_test_password

# Redis database number (0-15)
REDIS_DB=0

# ===========================================
# Test Configuration
# ===========================================

# Test environment (local, ci, staging, production)
TEST_ENV=local

# Log level (debug, info, warn, error)
TEST_LOG_LEVEL=info

# Enable test data cleanup after tests
TEST_CLEANUP=true

# Test data directory
TEST_DATA_DIR=./test-data

# ===========================================
# Docker Configuration
# ===========================================

# Docker network name
DOCKER_NETWORK=e2e-network

# Enable Docker services (true/false)
USE_DOCKER_POSTGRES=true
USE_DOCKER_REDIS=true
USE_DOCKER_MOCKS=true

# ===========================================
# CI/CD Configuration
# ===========================================

# CI mode (enables optimizations for CI environments)
CI_MODE=false

# Parallel test execution in CI
CI_PARALLEL_TESTS=5

# Generate coverage reports
GENERATE_COVERAGE=false

# Upload results to test management system
UPLOAD_RESULTS=false
